## xml(可扩展标记语言的逻辑结构)

>XML标记（markup）包括开始标签（tag）、结束标签、空元素标签、实体引用、字符引用、注释、CDATA段定界符、文档类型声明、处理指令、XML声明、文本声明及任何在文档实体顶层的空白（在文档元素之外，且不在任何其他的标记内部）。其他所有非标记的文本组成文档的字符数据。 

在逻辑上由5部分组成:

* xml声明

* 文档类型声明

* 元素

* 注释

* 处理指令

  

![](D:\markdown\Javawebimages\xml规范.png)

xml声明

>版本声明，加编码声明。或者还可以加个独立文档声明：standalone='yes',如果文档依赖于外部文档，可以通过standalone="no”来声明。 
>
>书写时以小于号（<）开始，后面紧跟一个问号（？），然后是XML保留的字符串名字“xml”，要注意的是在问号（？）左右两边不能有空格；接下来，指明所用的XML版本为“1.0”；然后以问号（？）和大于号（>）结束，在问号（？）和大于号（>）之间不能有空格。 

文档类型声明

>文档类型声明，通过DTD(文本定义类型)来规范xml文档 
>
>有两种声明方式:
>
>1.声明调用DTD
>
>~~~
>1.<!DOCTYPE greeting SYSTEM "hello.dtd"
>~~~
>
>2.直接在文档中给出DTD
>
>~~~
><!DOCTYPE greeting [!ELEMENT greeting (#PCDATA)]>
>~~~

元素

>元素命名规范：名称只能以字母、下划线（_）或者冒号（：）开头；名称中可以包含字母、数字、下划线及其他在XML标准中允许的字符；名称中不能包含空格；名称中尽可能不要使用冒号（：），因为冒号在名称空间中被用于分隔名称空间前缀和本地部分。
>
>~~~
>	空元素：<student/>一定要加/来关闭
>	带有属性的空元素：<student name="" age=""/>
>	带有内容的元素：
>	<student>
>		<name>张三<name/>
>		<age>18<age/>
>	<student/>
>
>~~~
>
>

>元素的内容包括：子元素，字符数据，字符引用和实体引用，cdata段
>
><student>的例子就包括子元素
>
>字符数据：在一个元素的内容中，字符数据可以是不包括任何标记的起始定界符和CDATA段的结束定界符的任意字符串，也就是说在元素的内容中，字符数据不能有和号（&）和小于号（<），也不能有字符串“11>”（见CDATA段）。在CDATA段中，字符数据可以是不包括CDATA段的结束定界符的任意字符串。下面，我们看几个例子。
>
>字符引用：就是用其他字符代替禁止字符：<,&,>,',"
>
>![](D:\markdown\Javawebimages\特殊字符引用.png)

>CDATA段中包含的都是纯字符数据，在字符数据可以出现的任何地方都可以使用CDATA段。CDATA段主要用于需要将整个文本解释为字符数据而不是标记的情况下。CDATA段中的内容不被XML处理器分析，所以可以在其中包含任意的字符。代码段不被处理。

注释

>在XML文档中，注释可以出现在文档中其他标记之外的任何位置.XML的注释和HTML的注释类似，都是以“<-”开始，以“->”结束。位于“<-”和“->”之间的数据将被XML处理器忽略。

>使用注意5点：
>
>1.注释不能出现在XML声明之前，XML声明必须是文档最前面的部分。
>
>2.注释可以包围和隐藏标记，但要注意的是，在注释掉标记之后，要保证剩余的文本仍然是一个结构完整的XML文档，也就是说不能嵌套在<></>之中
>
>3.注释可以包围和隐藏标记，但要注意的是，在注释掉标记之后，要保证剩余的文本仍然是一个结构完整的XML文档。
>
>4.字符串“--”（双连字符）不能在注释中出现。下面的例子是非法的
>
>~~~
><!--This is a greet example--Hel1o,world-->
>~~~
>
>5.在XML中，不允许注释以“--->”结尾，而是以"-->"结尾。

处理指令

>处理指令（Processing Instructions，PI）允许文档中包含由应用程序来处理的指令。在XML文档中，有可能会包含一些非XML格式的数据，这些数据XML处理器无法处理，我们就可以通过处理指令来通知其他应用程序来处理这些数据。处理指令以<?开始，以？>结束，常见的使用样式表的处理指令如下：
>
>~~~
><?xml-stylesheet href="hello.css" type="text/css"?>
>~~~
>
>xml-stylesheet 处理指令总是放在XML声明之后，第一个元素之前。其他的处理指令可以放在除标记的内部和XML声明之前的任何位置。

在xml文档中的空白处理

>在XML文档中，可以在元素中使用一个特殊的属性xml:space，来通知应用程序保留此元素中的空白
>
>~~~
><!ATTLIST poem xml:space (default|preserve)'preserve'>
><!ATTLIST pre xml:space (preserve)#FIXED 'preserve'>
>~~~
>
>“default”表示对此元素使用应用程序的默认空白处理模式，“preserve”指示应用程序保留所有的空白。
>如果一个元素使用了xml:space属性，将适用于该元素内容中的所有元素，除非被另一个xml:space属性的实例所覆盖。



